<h1 class="page-heading border-bottom">Payment Methods</h1>
<div class="mt-3 row"
     *ngIf="personalCards.length > 0">
  <h2 class="h3 text-secondary col-6">Personal Credit Cards</h2>
  <div class="col-6">
    <button (click)="openAddCard()"
            class="btn btn-primary float-right">
      <fa-icon [icon]="faPlus"></fa-icon> Add a Personal Card
    </button>
  </div>
</div>
<shared-credit-card-display [card]="card"
                            class="col-12 my-2"
                            *ngFor="let card of personalCards">
  <div actions>
    <fa-icon (click)="openEditCard(card)"
             title="Edit"
             class="text-primary icon-button--hover-reactive mr-2"
             [icon]="faEdit"></fa-icon>
    <fa-icon (click)="deleteCard(card.ID)"
             title="Delete"
             class="text-danger icon-button--hover-reactive"
             [icon]="faTrashAlt"></fa-icon>
  </div>
</shared-credit-card-display>
<div class="mt-3"
     *ngIf="assignedCards.length > 0">
  <h2 class="h3 text-secondary">Assigned Credit Cards</h2>
  <shared-credit-card-display [card]="card"
                              class="col-12 my-2"
                              *ngFor="let card of assignedCards">
    <div actions>
      <fa-icon (click)="openEditCard(card)"
               title="Edit"
               class="text-primary icon-button--hover-reactive mr-2"
               [icon]="faEdit"></fa-icon>
      <fa-icon (click)="deleteCard(card.ID)"
               title="Delete"
               class="text-danger icon-button--hover-reactive"
               [icon]="faTrashAlt"></fa-icon>

    </div>
  </shared-credit-card-display>
</div>
<div class="mt-3">
  <h2 class="h3 text-secondary">Assigned Spending Accounts</h2>
  <div class="mt-3"
       *ngFor="let account of (accounts$ | async)?.Items">
    <div class="border border-radius shadow-sm p-4">
      <div><strong>{{ account.Name }}</strong></div>
      <div>Balance: <b class="text-success">{{ account.Balance | currency }}</b></div>
    </div>
  </div>
</div>
<shared-modal id="{{ modalID }}"
              modalTitle="Add a Personal Card">
  <shared-credit-card-form submitText="Save Card"
                           [card]="currentCard"
                           (formSubmitted)="addCard($event)"
                           ResetOnModalClose></shared-credit-card-form>
</shared-modal>